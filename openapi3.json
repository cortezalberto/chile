{"openapi":"3.1.0","info":{"title":"Integrador REST API","description":"Restaurant management system API","version":"0.1.0"},"paths":{"/api/health":{"get":{"summary":"Health Check","description":"Basic health check endpoint.","operationId":"health_check_api_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/auth/login":{"post":{"tags":["auth"],"summary":"Login","description":"Authenticate a staff member and return a JWT token.\n\nThe token contains:\n- sub: user ID\n- tenant_id: restaurant tenant ID\n- branch_ids: list of branches the user has access to\n- roles: list of roles the user has\n- email: user's email","operationId":"login_api_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/me":{"get":{"tags":["auth"],"summary":"Get Current User","description":"Get current authenticated user info.","operationId":"get_current_user_api_auth_me_get","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/public/menu/{branch_slug}":{"get":{"tags":["catalog"],"summary":"Get Menu","description":"Get the complete menu for a branch.\n\nReturns all categories, subcategories, and available products\nwith their prices for the specified branch.\n\nThis endpoint is public and does not require authentication.","operationId":"get_menu_api_public_menu__branch_slug__get","parameters":[{"name":"branch_slug","in":"path","required":true,"schema":{"type":"string","title":"Branch Slug"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MenuOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/public/menu/{branch_slug}/products/{product_id}":{"get":{"tags":["catalog"],"summary":"Get Product","description":"Get details of a specific product.\n\nReturns product information including allergens and branch-specific pricing.","operationId":"get_product_api_public_menu__branch_slug__products__product_id__get","parameters":[{"name":"branch_slug","in":"path","required":true,"schema":{"type":"string","title":"Branch Slug"}},{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/shared__schemas__ProductOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/waiter/tables":{"get":{"tags":["tables"],"summary":"Get Waiter Tables","description":"Get all tables for the waiter's branch(es).\n\nReturns a summary of each table including:\n- Current status\n- Active session ID (if any)\n- Number of open rounds\n- Number of pending service calls\n- Check status (if any)\n\nRequires WAITER, MANAGER, or ADMIN role.","operationId":"get_waiter_tables_api_waiter_tables_get","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TableCard"},"title":"Response Get Waiter Tables Api Waiter Tables Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tables/{table_id}/session":{"post":{"tags":["tables"],"summary":"Create Or Get Session","description":"Create a new session for a table, or return the existing active session.\n\nThis endpoint is called when a diner scans a QR code or enters a table number.\nIt does not require authentication - the response includes a table token\nthat will be used for subsequent diner operations.\n\nIf the table already has an active session, returns that session.\nOtherwise, creates a new session and marks the table as ACTIVE.","operationId":"create_or_get_session_api_tables__table_id__session_post","parameters":[{"name":"table_id","in":"path","required":true,"schema":{"type":"integer","title":"Table Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TableSessionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tables/{table_id}":{"get":{"tags":["tables"],"summary":"Get Table","description":"Get details of a specific table.\n\nRequires authentication and access to the table's branch.","operationId":"get_table_api_tables__table_id__get","parameters":[{"name":"table_id","in":"path","required":true,"schema":{"type":"integer","title":"Table Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TableCard"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/diner/rounds/submit":{"post":{"tags":["diner"],"summary":"Submit Round","description":"Submit a new round of orders.\n\nCreates a new round with the specified items and publishes\na ROUND_SUBMITTED event for waiters and kitchen.\n\nRequires X-Table-Token header with valid table token.","operationId":"submit_round_api_diner_rounds_submit_post","parameters":[{"name":"X-Table-Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Table-Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmitRoundRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmitRoundResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/diner/session/{session_id}/rounds":{"get":{"tags":["diner"],"summary":"Get Session Rounds","description":"Get all rounds for a session.\n\nReturns the history of orders with their current status.","operationId":"get_session_rounds_api_diner_session__session_id__rounds_get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"integer","title":"Session Id"}},{"name":"X-Table-Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Table-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RoundOutput"},"title":"Response Get Session Rounds Api Diner Session  Session Id  Rounds Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/diner/service-call":{"post":{"tags":["diner"],"summary":"Create Service Call","description":"Create a service call (call waiter or request payment help).\n\nPublishes a SERVICE_CALL_CREATED event for waiters.","operationId":"create_service_call_api_diner_service_call_post","parameters":[{"name":"X-Table-Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Table-Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateServiceCallRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServiceCallOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/diner/session/{session_id}/total":{"get":{"tags":["diner"],"summary":"Get Session Total","description":"Get the total amount for a session.\n\nCalculates total from all rounds (excluding CANCELED).","operationId":"get_session_total_api_diner_session__session_id__total_get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"integer","title":"Session Id"}},{"name":"X-Table-Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Table-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Session Total Api Diner Session  Session Id  Total Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/diner/check":{"get":{"tags":["diner"],"summary":"Get Diner Check","description":"Get the current check detail for the diner's session.\n\nReturns full breakdown of items and payments.\nUsed by diner to see their bill before/during payment.","operationId":"get_diner_check_api_diner_check_get","parameters":[{"name":"X-Table-Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Table-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckDetailOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/kitchen/rounds":{"get":{"tags":["kitchen"],"summary":"Get Pending Rounds","description":"Get all pending rounds for the kitchen.\n\nReturns rounds with status SUBMITTED or IN_KITCHEN,\nordered by submission time (oldest first).\n\nRequires KITCHEN, MANAGER, or ADMIN role.","operationId":"get_pending_rounds_api_kitchen_rounds_get","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RoundOutput"},"title":"Response Get Pending Rounds Api Kitchen Rounds Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/kitchen/rounds/{round_id}/status":{"post":{"tags":["kitchen"],"summary":"Update Round Status","description":"Update the status of a round.\n\nValid transitions:\n- SUBMITTED -> IN_KITCHEN (kitchen started working on it)\n- IN_KITCHEN -> READY (kitchen finished, ready for waiter)\n- READY -> SERVED (waiter delivered to table)\n\nPublishes corresponding events for real-time updates.","operationId":"update_round_status_api_kitchen_rounds__round_id__status_post","parameters":[{"name":"round_id","in":"path","required":true,"schema":{"type":"integer","title":"Round Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRoundStatusRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoundOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/kitchen/rounds/{round_id}":{"get":{"tags":["kitchen"],"summary":"Get Round","description":"Get details of a specific round.","operationId":"get_round_api_kitchen_rounds__round_id__get","parameters":[{"name":"round_id","in":"path","required":true,"schema":{"type":"integer","title":"Round Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoundOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/billing/check/request":{"post":{"tags":["billing"],"summary":"Request Check","description":"Request the check/bill for a table session.\n\nCalculates the total from all rounds and creates a Check record.\nChanges table status to PAYING.\nPublishes CHECK_REQUESTED event for waiters.\n\nCalled by diner using table token.","operationId":"request_check_api_billing_check_request_post","parameters":[{"name":"X-Table-Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Table-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RequestCheckResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/billing/cash/pay":{"post":{"tags":["billing"],"summary":"Record Cash Payment","description":"Record a cash payment for a check.\n\nCalled by waiter after receiving cash from customer.\nIf the payment completes the check, marks it as PAID.\n\nRequires WAITER, MANAGER, or ADMIN role.","operationId":"record_cash_payment_api_billing_cash_pay_post","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CashPaymentRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/billing/tables/{table_id}/clear":{"post":{"tags":["billing"],"summary":"Clear Table","description":"Clear/liberate a table after payment is complete.\n\nOnly works if the check is fully paid.\nCloses the session and marks the table as FREE.\n\nRequires WAITER, MANAGER, or ADMIN role.","operationId":"clear_table_api_billing_tables__table_id__clear_post","parameters":[{"name":"table_id","in":"path","required":true,"schema":{"type":"integer","title":"Table Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClearTableResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/billing/check/{check_id}":{"get":{"tags":["billing"],"summary":"Get Check","description":"Get details of a check.","operationId":"get_check_api_billing_check__check_id__get","parameters":[{"name":"check_id","in":"path","required":true,"schema":{"type":"integer","title":"Check Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Check Api Billing Check  Check Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/billing/mercadopago/preference":{"post":{"tags":["billing"],"summary":"Create Mercadopago Preference","description":"Create a Mercado Pago preference for a check.\n\nReturns the checkout URL where the diner will be redirected to pay.\nCalled by diner when they choose to pay with Mercado Pago.","operationId":"create_mercadopago_preference_api_billing_mercadopago_preference_post","parameters":[{"name":"X-Table-Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Table-Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MercadoPagoPreferenceRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MercadoPagoPreferenceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/billing/mercadopago/webhook":{"post":{"tags":["billing"],"summary":"Mercadopago Webhook","description":"Webhook endpoint for Mercado Pago notifications.\n\nCalled by Mercado Pago when a payment status changes.\nVerifies signature, updates payment and check status.","operationId":"mercadopago_webhook_api_billing_mercadopago_webhook_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Mercadopago Webhook Api Billing Mercadopago Webhook Post"}}}}}}},"/api/admin/tenant":{"get":{"tags":["admin"],"summary":"Get Tenant","description":"Get current user's tenant (restaurant) information.","operationId":"get_tenant_api_admin_tenant_get","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["admin"],"summary":"Update Tenant","description":"Update tenant information. Requires ADMIN role.","operationId":"update_tenant_api_admin_tenant_patch","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/branches":{"get":{"tags":["admin"],"summary":"List Branches","description":"List all branches for the user's tenant.","operationId":"list_branches_api_admin_branches_get","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BranchOutput"},"title":"Response List Branches Api Admin Branches Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["admin"],"summary":"Create Branch","description":"Create a new branch. Requires ADMIN role.","operationId":"create_branch_api_admin_branches_post","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BranchCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BranchOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/branches/{branch_id}":{"get":{"tags":["admin"],"summary":"Get Branch","description":"Get a specific branch.","operationId":"get_branch_api_admin_branches__branch_id__get","parameters":[{"name":"branch_id","in":"path","required":true,"schema":{"type":"integer","title":"Branch Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BranchOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["admin"],"summary":"Update Branch","description":"Update a branch. Requires ADMIN or MANAGER role.","operationId":"update_branch_api_admin_branches__branch_id__patch","parameters":[{"name":"branch_id","in":"path","required":true,"schema":{"type":"integer","title":"Branch Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BranchUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BranchOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["admin"],"summary":"Delete Branch","description":"Delete a branch. Requires ADMIN role.","operationId":"delete_branch_api_admin_branches__branch_id__delete","parameters":[{"name":"branch_id","in":"path","required":true,"schema":{"type":"integer","title":"Branch Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/categories":{"get":{"tags":["admin"],"summary":"List Categories","description":"List categories, optionally filtered by branch.","operationId":"list_categories_api_admin_categories_get","parameters":[{"name":"branch_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Branch Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/rest_api__routers__admin__CategoryOutput"},"title":"Response List Categories Api Admin Categories Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["admin"],"summary":"Create Category","description":"Create a new category.","operationId":"create_category_api_admin_categories_post","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/rest_api__routers__admin__CategoryOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/categories/{category_id}":{"get":{"tags":["admin"],"summary":"Get Category","description":"Get a specific category.","operationId":"get_category_api_admin_categories__category_id__get","parameters":[{"name":"category_id","in":"path","required":true,"schema":{"type":"integer","title":"Category Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/rest_api__routers__admin__CategoryOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["admin"],"summary":"Update Category","description":"Update a category.","operationId":"update_category_api_admin_categories__category_id__patch","parameters":[{"name":"category_id","in":"path","required":true,"schema":{"type":"integer","title":"Category Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/rest_api__routers__admin__CategoryOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["admin"],"summary":"Delete Category","description":"Delete a category.","operationId":"delete_category_api_admin_categories__category_id__delete","parameters":[{"name":"category_id","in":"path","required":true,"schema":{"type":"integer","title":"Category Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/subcategories":{"get":{"tags":["admin"],"summary":"List Subcategories","description":"List subcategories, optionally filtered by category.","operationId":"list_subcategories_api_admin_subcategories_get","parameters":[{"name":"category_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Category Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/rest_api__routers__admin__SubcategoryOutput"},"title":"Response List Subcategories Api Admin Subcategories Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["admin"],"summary":"Create Subcategory","description":"Create a new subcategory.","operationId":"create_subcategory_api_admin_subcategories_post","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubcategoryCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/rest_api__routers__admin__SubcategoryOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/subcategories/{subcategory_id}":{"get":{"tags":["admin"],"summary":"Get Subcategory","description":"Get a specific subcategory.","operationId":"get_subcategory_api_admin_subcategories__subcategory_id__get","parameters":[{"name":"subcategory_id","in":"path","required":true,"schema":{"type":"integer","title":"Subcategory Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/rest_api__routers__admin__SubcategoryOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["admin"],"summary":"Update Subcategory","description":"Update a subcategory.","operationId":"update_subcategory_api_admin_subcategories__subcategory_id__patch","parameters":[{"name":"subcategory_id","in":"path","required":true,"schema":{"type":"integer","title":"Subcategory Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubcategoryUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/rest_api__routers__admin__SubcategoryOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["admin"],"summary":"Delete Subcategory","description":"Delete a subcategory.","operationId":"delete_subcategory_api_admin_subcategories__subcategory_id__delete","parameters":[{"name":"subcategory_id","in":"path","required":true,"schema":{"type":"integer","title":"Subcategory Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/products":{"get":{"tags":["admin"],"summary":"List Products","description":"List products, optionally filtered by category or branch.","operationId":"list_products_api_admin_products_get","parameters":[{"name":"category_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Category Id"}},{"name":"branch_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Branch Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/rest_api__routers__admin__ProductOutput"},"title":"Response List Products Api Admin Products Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["admin"],"summary":"Create Product","description":"Create a new product with branch prices.","operationId":"create_product_api_admin_products_post","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/rest_api__routers__admin__ProductOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/products/{product_id}":{"get":{"tags":["admin"],"summary":"Get Product","description":"Get a specific product with branch prices.","operationId":"get_product_api_admin_products__product_id__get","parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/rest_api__routers__admin__ProductOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["admin"],"summary":"Update Product","description":"Update a product and its branch prices.","operationId":"update_product_api_admin_products__product_id__patch","parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/rest_api__routers__admin__ProductOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["admin"],"summary":"Delete Product","description":"Delete a product and its branch prices.","operationId":"delete_product_api_admin_products__product_id__delete","parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/allergens":{"get":{"tags":["admin"],"summary":"List Allergens","description":"List all allergens for the tenant.","operationId":"list_allergens_api_admin_allergens_get","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AllergenOutput"},"title":"Response List Allergens Api Admin Allergens Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["admin"],"summary":"Create Allergen","description":"Create a new allergen.","operationId":"create_allergen_api_admin_allergens_post","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllergenCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllergenOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/allergens/{allergen_id}":{"patch":{"tags":["admin"],"summary":"Update Allergen","description":"Update an allergen.","operationId":"update_allergen_api_admin_allergens__allergen_id__patch","parameters":[{"name":"allergen_id","in":"path","required":true,"schema":{"type":"integer","title":"Allergen Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllergenUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllergenOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["admin"],"summary":"Delete Allergen","description":"Delete an allergen.","operationId":"delete_allergen_api_admin_allergens__allergen_id__delete","parameters":[{"name":"allergen_id","in":"path","required":true,"schema":{"type":"integer","title":"Allergen Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/tables":{"get":{"tags":["admin"],"summary":"List Tables","description":"List tables, optionally filtered by branch.","operationId":"list_tables_api_admin_tables_get","parameters":[{"name":"branch_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Branch Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TableOutput"},"title":"Response List Tables Api Admin Tables Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["admin"],"summary":"Create Table","description":"Create a new table.","operationId":"create_table_api_admin_tables_post","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TableCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TableOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/tables/{table_id}":{"patch":{"tags":["admin"],"summary":"Update Table","description":"Update a table.","operationId":"update_table_api_admin_tables__table_id__patch","parameters":[{"name":"table_id","in":"path","required":true,"schema":{"type":"integer","title":"Table Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TableUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TableOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["admin"],"summary":"Delete Table","description":"Delete a table.","operationId":"delete_table_api_admin_tables__table_id__delete","parameters":[{"name":"table_id","in":"path","required":true,"schema":{"type":"integer","title":"Table Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/staff":{"get":{"tags":["admin"],"summary":"List Staff","description":"List staff members, optionally filtered by branch.","operationId":"list_staff_api_admin_staff_get","parameters":[{"name":"branch_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Branch Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StaffOutput"},"title":"Response List Staff Api Admin Staff Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["admin"],"summary":"Create Staff","description":"Create a new staff member.","operationId":"create_staff_api_admin_staff_post","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StaffCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StaffOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/staff/{staff_id}":{"patch":{"tags":["admin"],"summary":"Update Staff","description":"Update a staff member.","operationId":"update_staff_api_admin_staff__staff_id__patch","parameters":[{"name":"staff_id","in":"path","required":true,"schema":{"type":"integer","title":"Staff Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StaffUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StaffOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["admin"],"summary":"Delete Staff","description":"Delete a staff member.","operationId":"delete_staff_api_admin_staff__staff_id__delete","parameters":[{"name":"staff_id","in":"path","required":true,"schema":{"type":"integer","title":"Staff Id"}},{"name":"Authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AllergenCreate":{"properties":{"name":{"type":"string","title":"Name"},"icon":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Icon"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"is_active":{"type":"boolean","title":"Is Active","default":true}},"type":"object","required":["name"],"title":"AllergenCreate"},"AllergenOutput":{"properties":{"id":{"type":"integer","title":"Id"},"tenant_id":{"type":"integer","title":"Tenant Id"},"name":{"type":"string","title":"Name"},"icon":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Icon"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["id","tenant_id","name","is_active"],"title":"AllergenOutput"},"AllergenUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"icon":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Icon"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"AllergenUpdate"},"BranchCreate":{"properties":{"name":{"type":"string","title":"Name"},"slug":{"type":"string","title":"Slug"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"timezone":{"type":"string","title":"Timezone","default":"America/Argentina/Mendoza"},"opening_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Opening Time"},"closing_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Closing Time"},"is_active":{"type":"boolean","title":"Is Active","default":true}},"type":"object","required":["name","slug"],"title":"BranchCreate"},"BranchOutput":{"properties":{"id":{"type":"integer","title":"Id"},"tenant_id":{"type":"integer","title":"Tenant Id"},"name":{"type":"string","title":"Name"},"slug":{"type":"string","title":"Slug"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"timezone":{"type":"string","title":"Timezone"},"opening_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Opening Time"},"closing_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Closing Time"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","tenant_id","name","slug","timezone","is_active","created_at"],"title":"BranchOutput"},"BranchPriceInput":{"properties":{"branch_id":{"type":"integer","title":"Branch Id"},"price_cents":{"type":"integer","title":"Price Cents"},"is_available":{"type":"boolean","title":"Is Available","default":true}},"type":"object","required":["branch_id","price_cents"],"title":"BranchPriceInput"},"BranchPriceOutput":{"properties":{"branch_id":{"type":"integer","title":"Branch Id"},"price_cents":{"type":"integer","title":"Price Cents"},"is_available":{"type":"boolean","title":"Is Available"}},"type":"object","required":["branch_id","price_cents","is_available"],"title":"BranchPriceOutput"},"BranchUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"timezone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timezone"},"opening_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Opening Time"},"closing_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Closing Time"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"BranchUpdate"},"CashPaymentRequest":{"properties":{"check_id":{"type":"integer","title":"Check Id"},"amount_cents":{"type":"integer","exclusiveMinimum":0.0,"title":"Amount Cents"}},"type":"object","required":["check_id","amount_cents"],"title":"CashPaymentRequest","description":"Request to record a cash payment."},"CategoryCreate":{"properties":{"branch_id":{"type":"integer","title":"Branch Id"},"name":{"type":"string","title":"Name"},"icon":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Icon"},"image":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image"},"order":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Order"},"is_active":{"type":"boolean","title":"Is Active","default":true}},"type":"object","required":["branch_id","name"],"title":"CategoryCreate"},"CategoryUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"icon":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Icon"},"image":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image"},"order":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Order"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"CategoryUpdate"},"CheckDetailOutput":{"properties":{"id":{"type":"integer","title":"Id"},"status":{"type":"string","enum":["OPEN","REQUESTED","IN_PAYMENT","PAID","FAILED"],"title":"Status"},"total_cents":{"type":"integer","title":"Total Cents"},"paid_cents":{"type":"integer","title":"Paid Cents"},"remaining_cents":{"type":"integer","title":"Remaining Cents"},"items":{"items":{"$ref":"#/components/schemas/CheckItemOutput"},"type":"array","title":"Items"},"payments":{"items":{"$ref":"#/components/schemas/PaymentOutput"},"type":"array","title":"Payments"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"table_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Table Code"}},"type":"object","required":["id","status","total_cents","paid_cents","remaining_cents","items","payments","created_at"],"title":"CheckDetailOutput","description":"Full check detail with items and payments."},"CheckItemOutput":{"properties":{"product_name":{"type":"string","title":"Product Name"},"qty":{"type":"integer","title":"Qty"},"unit_price_cents":{"type":"integer","title":"Unit Price Cents"},"subtotal_cents":{"type":"integer","title":"Subtotal Cents"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"round_number":{"type":"integer","title":"Round Number"}},"type":"object","required":["product_name","qty","unit_price_cents","subtotal_cents","round_number"],"title":"CheckItemOutput","description":"Single item in a check detail."},"ClearTableResponse":{"properties":{"table_id":{"type":"integer","title":"Table Id"},"status":{"type":"string","enum":["FREE","ACTIVE","PAYING","OUT_OF_SERVICE"],"title":"Status"}},"type":"object","required":["table_id","status"],"title":"ClearTableResponse","description":"Response after clearing a table."},"CreateServiceCallRequest":{"properties":{"type":{"type":"string","enum":["WAITER_CALL","PAYMENT_HELP","OTHER"],"title":"Type","default":"WAITER_CALL"}},"type":"object","title":"CreateServiceCallRequest","description":"Request to create a service call."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LoginRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"LoginRequest","description":"Login request body."},"LoginResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"Bearer"},"expires_in":{"type":"integer","title":"Expires In"},"user":{"$ref":"#/components/schemas/UserInfo"}},"type":"object","required":["access_token","expires_in","user"],"title":"LoginResponse","description":"Login response with JWT token."},"MenuOutput":{"properties":{"branch_id":{"type":"integer","title":"Branch Id"},"branch_name":{"type":"string","title":"Branch Name"},"branch_slug":{"type":"string","title":"Branch Slug"},"categories":{"items":{"$ref":"#/components/schemas/shared__schemas__CategoryOutput"},"type":"array","title":"Categories"}},"type":"object","required":["branch_id","branch_name","branch_slug","categories"],"title":"MenuOutput","description":"Complete menu for a branch."},"MercadoPagoPreferenceRequest":{"properties":{"check_id":{"type":"integer","title":"Check Id"}},"type":"object","required":["check_id"],"title":"MercadoPagoPreferenceRequest","description":"Request to create a Mercado Pago preference."},"MercadoPagoPreferenceResponse":{"properties":{"preference_id":{"type":"string","title":"Preference Id"},"init_point":{"type":"string","title":"Init Point"},"sandbox_init_point":{"type":"string","title":"Sandbox Init Point"}},"type":"object","required":["preference_id","init_point","sandbox_init_point"],"title":"MercadoPagoPreferenceResponse","description":"Response with Mercado Pago checkout URL."},"PaymentOutput":{"properties":{"id":{"type":"integer","title":"Id"},"provider":{"type":"string","enum":["CASH","MERCADO_PAGO"],"title":"Provider"},"status":{"type":"string","enum":["PENDING","APPROVED","REJECTED"],"title":"Status"},"amount_cents":{"type":"integer","title":"Amount Cents"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","provider","status","amount_cents","created_at"],"title":"PaymentOutput","description":"Payment information."},"PaymentResponse":{"properties":{"payment_id":{"type":"integer","title":"Payment Id"},"check_id":{"type":"integer","title":"Check Id"},"amount_cents":{"type":"integer","title":"Amount Cents"},"provider":{"type":"string","enum":["CASH","MERCADO_PAGO"],"title":"Provider"},"status":{"type":"string","enum":["PENDING","APPROVED","REJECTED"],"title":"Status"},"check_status":{"type":"string","enum":["OPEN","REQUESTED","IN_PAYMENT","PAID","FAILED"],"title":"Check Status"},"check_paid_cents":{"type":"integer","title":"Check Paid Cents"},"check_total_cents":{"type":"integer","title":"Check Total Cents"}},"type":"object","required":["payment_id","check_id","amount_cents","provider","status","check_status","check_paid_cents","check_total_cents"],"title":"PaymentResponse","description":"Response after recording a payment."},"ProductCreate":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"image":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image"},"category_id":{"type":"integer","title":"Category Id"},"subcategory_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Subcategory Id"},"featured":{"type":"boolean","title":"Featured","default":false},"popular":{"type":"boolean","title":"Popular","default":false},"badge":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Badge"},"seal":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Seal"},"allergen_ids":{"items":{"type":"integer"},"type":"array","title":"Allergen Ids","default":[]},"is_active":{"type":"boolean","title":"Is Active","default":true},"branch_prices":{"items":{"$ref":"#/components/schemas/BranchPriceInput"},"type":"array","title":"Branch Prices","default":[]}},"type":"object","required":["name","category_id"],"title":"ProductCreate"},"ProductUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"image":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image"},"category_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Category Id"},"subcategory_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Subcategory Id"},"featured":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Featured"},"popular":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Popular"},"badge":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Badge"},"seal":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Seal"},"allergen_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Allergen Ids"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"branch_prices":{"anyOf":[{"items":{"$ref":"#/components/schemas/BranchPriceInput"},"type":"array"},{"type":"null"}],"title":"Branch Prices"}},"type":"object","title":"ProductUpdate"},"RequestCheckResponse":{"properties":{"check_id":{"type":"integer","title":"Check Id"},"total_cents":{"type":"integer","title":"Total Cents"},"paid_cents":{"type":"integer","title":"Paid Cents"},"status":{"type":"string","enum":["OPEN","REQUESTED","IN_PAYMENT","PAID","FAILED"],"title":"Status"}},"type":"object","required":["check_id","total_cents","paid_cents","status"],"title":"RequestCheckResponse","description":"Response after requesting a check."},"RoundItemInput":{"properties":{"product_id":{"type":"integer","title":"Product Id"},"qty":{"type":"integer","maximum":99.0,"minimum":1.0,"title":"Qty"},"notes":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Notes"}},"type":"object","required":["product_id","qty"],"title":"RoundItemInput","description":"Input for a single item in a round."},"RoundItemOutput":{"properties":{"id":{"type":"integer","title":"Id"},"product_id":{"type":"integer","title":"Product Id"},"product_name":{"type":"string","title":"Product Name"},"qty":{"type":"integer","title":"Qty"},"unit_price_cents":{"type":"integer","title":"Unit Price Cents"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["id","product_id","product_name","qty","unit_price_cents"],"title":"RoundItemOutput","description":"Output for a single item in a round."},"RoundOutput":{"properties":{"id":{"type":"integer","title":"Id"},"round_number":{"type":"integer","title":"Round Number"},"status":{"type":"string","enum":["DRAFT","SUBMITTED","IN_KITCHEN","READY","SERVED","CANCELED"],"title":"Status"},"items":{"items":{"$ref":"#/components/schemas/RoundItemOutput"},"type":"array","title":"Items"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"table_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Table Id"},"table_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Table Code"},"submitted_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Submitted At"}},"type":"object","required":["id","round_number","status","items","created_at"],"title":"RoundOutput","description":"Output for a round with its items."},"ServiceCallOutput":{"properties":{"id":{"type":"integer","title":"Id"},"type":{"type":"string","enum":["WAITER_CALL","PAYMENT_HELP","OTHER"],"title":"Type"},"status":{"type":"string","enum":["OPEN","ACKED","CLOSED"],"title":"Status"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"acked_by_user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Acked By User Id"}},"type":"object","required":["id","type","status","created_at"],"title":"ServiceCallOutput","description":"Output for a service call."},"StaffCreate":{"properties":{"email":{"type":"string","title":"Email"},"password":{"type":"string","title":"Password"},"first_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Name"},"last_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Name"},"is_active":{"type":"boolean","title":"Is Active","default":true},"branch_roles":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Branch Roles","default":[]}},"type":"object","required":["email","password"],"title":"StaffCreate"},"StaffOutput":{"properties":{"id":{"type":"integer","title":"Id"},"tenant_id":{"type":"integer","title":"Tenant Id"},"email":{"type":"string","title":"Email"},"first_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Name"},"last_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Name"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"branch_roles":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Branch Roles","default":[]}},"type":"object","required":["id","tenant_id","email","is_active","created_at"],"title":"StaffOutput"},"StaffUpdate":{"properties":{"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password"},"first_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Name"},"last_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Name"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"branch_roles":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Branch Roles"}},"type":"object","title":"StaffUpdate"},"SubcategoryCreate":{"properties":{"category_id":{"type":"integer","title":"Category Id"},"name":{"type":"string","title":"Name"},"image":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image"},"order":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Order"},"is_active":{"type":"boolean","title":"Is Active","default":true}},"type":"object","required":["category_id","name"],"title":"SubcategoryCreate"},"SubcategoryUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"image":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image"},"order":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Order"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"SubcategoryUpdate"},"SubmitRoundRequest":{"properties":{"items":{"items":{"$ref":"#/components/schemas/RoundItemInput"},"type":"array","minItems":1,"title":"Items"}},"type":"object","required":["items"],"title":"SubmitRoundRequest","description":"Request to submit a new round of orders."},"SubmitRoundResponse":{"properties":{"session_id":{"type":"integer","title":"Session Id"},"round_id":{"type":"integer","title":"Round Id"},"round_number":{"type":"integer","title":"Round Number"},"status":{"type":"string","enum":["DRAFT","SUBMITTED","IN_KITCHEN","READY","SERVED","CANCELED"],"title":"Status"}},"type":"object","required":["session_id","round_id","round_number","status"],"title":"SubmitRoundResponse","description":"Response after submitting a round."},"TableCard":{"properties":{"table_id":{"type":"integer","title":"Table Id"},"code":{"type":"string","title":"Code"},"status":{"type":"string","enum":["FREE","ACTIVE","PAYING","OUT_OF_SERVICE"],"title":"Status"},"session_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Id"},"open_rounds":{"type":"integer","title":"Open Rounds","default":0},"pending_calls":{"type":"integer","title":"Pending Calls","default":0},"check_status":{"anyOf":[{"type":"string","enum":["OPEN","REQUESTED","IN_PAYMENT","PAID","FAILED"]},{"type":"null"}],"title":"Check Status"}},"type":"object","required":["table_id","code","status"],"title":"TableCard","description":"Summary of a table for waiter dashboard."},"TableCreate":{"properties":{"branch_id":{"type":"integer","title":"Branch Id"},"code":{"type":"string","title":"Code"},"capacity":{"type":"integer","title":"Capacity","default":4},"sector":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sector"},"is_active":{"type":"boolean","title":"Is Active","default":true}},"type":"object","required":["branch_id","code"],"title":"TableCreate"},"TableOutput":{"properties":{"id":{"type":"integer","title":"Id"},"tenant_id":{"type":"integer","title":"Tenant Id"},"branch_id":{"type":"integer","title":"Branch Id"},"code":{"type":"string","title":"Code"},"capacity":{"type":"integer","title":"Capacity"},"sector":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sector"},"status":{"type":"string","title":"Status"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["id","tenant_id","branch_id","code","capacity","status","is_active"],"title":"TableOutput"},"TableSessionResponse":{"properties":{"session_id":{"type":"integer","title":"Session Id"},"table_id":{"type":"integer","title":"Table Id"},"table_code":{"type":"string","title":"Table Code"},"table_token":{"type":"string","title":"Table Token"},"status":{"type":"string","enum":["OPEN","PAYING","CLOSED"],"title":"Status"}},"type":"object","required":["session_id","table_id","table_code","table_token","status"],"title":"TableSessionResponse","description":"Response when creating or joining a table session."},"TableUpdate":{"properties":{"code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Code"},"capacity":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Capacity"},"sector":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sector"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"TableUpdate"},"TenantOutput":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"slug":{"type":"string","title":"Slug"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"logo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Logo"},"theme_color":{"type":"string","title":"Theme Color"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","name","slug","theme_color","created_at"],"title":"TenantOutput"},"TenantUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"logo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Logo"},"theme_color":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Theme Color"}},"type":"object","title":"TenantUpdate"},"UpdateRoundStatusRequest":{"properties":{"status":{"type":"string","enum":["IN_KITCHEN","READY","SERVED"],"title":"Status"}},"type":"object","required":["status"],"title":"UpdateRoundStatusRequest","description":"Request to update round status (kitchen/waiter)."},"UserInfo":{"properties":{"id":{"type":"integer","title":"Id"},"email":{"type":"string","title":"Email"},"tenant_id":{"type":"integer","title":"Tenant Id"},"branch_ids":{"items":{"type":"integer"},"type":"array","title":"Branch Ids"},"roles":{"items":{"type":"string"},"type":"array","title":"Roles"}},"type":"object","required":["id","email","tenant_id","branch_ids","roles"],"title":"UserInfo","description":"Basic user information included in auth responses."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"rest_api__routers__admin__CategoryOutput":{"properties":{"id":{"type":"integer","title":"Id"},"tenant_id":{"type":"integer","title":"Tenant Id"},"branch_id":{"type":"integer","title":"Branch Id"},"name":{"type":"string","title":"Name"},"icon":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Icon"},"image":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image"},"order":{"type":"integer","title":"Order"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["id","tenant_id","branch_id","name","order","is_active"],"title":"CategoryOutput"},"rest_api__routers__admin__ProductOutput":{"properties":{"id":{"type":"integer","title":"Id"},"tenant_id":{"type":"integer","title":"Tenant Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"image":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image"},"category_id":{"type":"integer","title":"Category Id"},"subcategory_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Subcategory Id"},"featured":{"type":"boolean","title":"Featured"},"popular":{"type":"boolean","title":"Popular"},"badge":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Badge"},"seal":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Seal"},"allergen_ids":{"items":{"type":"integer"},"type":"array","title":"Allergen Ids","default":[]},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"branch_prices":{"items":{"$ref":"#/components/schemas/BranchPriceOutput"},"type":"array","title":"Branch Prices","default":[]}},"type":"object","required":["id","tenant_id","name","category_id","featured","popular","is_active","created_at"],"title":"ProductOutput"},"rest_api__routers__admin__SubcategoryOutput":{"properties":{"id":{"type":"integer","title":"Id"},"tenant_id":{"type":"integer","title":"Tenant Id"},"category_id":{"type":"integer","title":"Category Id"},"name":{"type":"string","title":"Name"},"image":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image"},"order":{"type":"integer","title":"Order"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["id","tenant_id","category_id","name","order","is_active"],"title":"SubcategoryOutput"},"shared__schemas__CategoryOutput":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"icon":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Icon"},"image":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image"},"order":{"type":"integer","title":"Order"},"subcategories":{"items":{"$ref":"#/components/schemas/shared__schemas__SubcategoryOutput"},"type":"array","title":"Subcategories"},"products":{"items":{"$ref":"#/components/schemas/shared__schemas__ProductOutput"},"type":"array","title":"Products"}},"type":"object","required":["id","name","order"],"title":"CategoryOutput","description":"Category with subcategories and products."},"shared__schemas__ProductOutput":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"price_cents":{"type":"integer","title":"Price Cents"},"image":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image"},"category_id":{"type":"integer","title":"Category Id"},"subcategory_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Subcategory Id"},"featured":{"type":"boolean","title":"Featured","default":false},"popular":{"type":"boolean","title":"Popular","default":false},"badge":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Badge"},"seal":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Seal"},"allergen_ids":{"items":{"type":"integer"},"type":"array","title":"Allergen Ids"},"is_available":{"type":"boolean","title":"Is Available","default":true}},"type":"object","required":["id","name","description","price_cents","category_id"],"title":"ProductOutput","description":"Product information for public menu."},"shared__schemas__SubcategoryOutput":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"image":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image"},"order":{"type":"integer","title":"Order"}},"type":"object","required":["id","name","order"],"title":"SubcategoryOutput","description":"Subcategory information."}}}}